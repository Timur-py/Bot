import config as cfg
import logging
from aiogram import Bot, Dispatcher, executor, types
logging.basicConfig(level=logging.INFO)
from db import Database
import functions as fc

bot = Bot(token=cfg.TOKEN)
dp = Dispatcher(bot)
db = Database('base.db')

@dp.message_handler(commands=['start'])
async def start(message: types.Message):
    await bot.send_message(message.from_user.id, "ü´ß–ü—Ä–∏–≤–µ—Ç! –≠—Ç–æ —à–∞–±–ª–æ–Ω –º–æ–µ–≥–æ –±–æ—Ç–∞, –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π –µ–≥–æ.\n–ù–∞–¥–µ—é—Å—å, –æ–Ω —Ç–µ–±–µ –ø–æ–Ω—Ä–∞–≤–∏—Ç—Å—è ;)\n–ó–∞ –ø–æ–∫—É–ø–∫–æ–π –∫ @manager_in_telegram (–¢–∏–º—É‚ÇΩ)üí§")

@dp.message_handler()
async def mess(message: types.Message):
    answer_id = fc.recognize_question(message.text, db.get_questions())
    await bot.send_message(message.from_user.id, db.get_answer(answer_id))

if __name__ == '__main__':
    executor.start_polling(dp, skip_updates=True)



kb_client = ReplyKeyboardMarkup(resize_keyboard=True)
b1 = KeyboardButton("#1")
b2 = KeyboardButton("#2")
b3 = KeyboardButton("#3")

kb_client.row(b1,b2)
kb_client.row(b3)

def kb_client() -> ReplyKeyboardMarkup:
    kb = ReplyKeyboardMarkup([
        [KeyboardButton('#1'), KeyboardButton('#2'), KeyboardButton('#3'), KeyboardButton('#4'), KeyboardButton('#5')],
        [KeyboardButton('#6'), KeyboardButton('#7'), KeyboardButton('#8'), KeyboardButton('#9'), KeyboardButton('#10')],
        [KeyboardButton('#11'), KeyboardButton('#12'), KeyboardButton('#13'), KeyboardButton('#14'), KeyboardButton('#15')],
        [KeyboardButton('#16'), KeyboardButton('#17'), KeyboardButton('#18'), KeyboardButton('#19'), KeyboardButton('#20')],
        [KeyboardButton('#21'), KeyboardButton('#22'), KeyboardButton('#23'), KeyboardButton('#24'), KeyboardButton('#25')],
    ])
    return kb

# callback
from inln.inline2 import txt_btn2

@dp.message_handler()
async def callback1(callback_quevery: types.CallbackQuery):
    if callback1 == '1':
        await bot.send_message(chat_id=callback_quevery.from_user.id, text='üìõ–ú—ã, –Ω–µ–±–æ–ª—å—à–∞—è –∫–æ–º–ø–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–≤ —Å–æ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π –Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ —Ç–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç–æ–≤. –í–ª–∞–¥–µ–µ–º —è–∑—ã–∫–∞–º–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è: Python, JavaScript, HTML, Css –∏ –¥—Ä. –ó–∞–Ω–∏–º–∞–µ–º—Å—è —Å–æ–∑–¥–∞–Ω–∏–µ–º –∫–∞–∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –±–æ—Ç–æ–≤, —Ç–∞–∫ –∏ –±–æ—Ç–æ–≤ —Å WEB –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º. –ò—Å–ø–æ–ª—å–∑—É–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ Aiogram, pyTelegramBotAPI.\n–°–î–ï–õ–ê–ï–ú –£–î–û–ë–ù–´–ô –ú–ê–ì–ê–ó–ò–ù –ò–õ–ò –¢–ï–õ–ï–ì–†–ê–ú –ë–û–¢–ê, –ö–û–¢–û–†–´–ô –£–ü–†–û–°–¢–ò–¢ –í–ê–ú –ñ–ò–ó–ù–¨!ü™ê')
    elif callback1 == '2':
        await bot.send_message(chat_id=callback_quevery.from_user.id, text='–¢—É—Ç –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—èüõú')
    elif callback1 == '3':
        await bot.send_message(chat_id=callback_quevery.from_user.id, text='–¢—É—Ç –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—èüõú')




from aiogram.types import InlineKeyboardMarkup, InlineKeyboardButton
txt_btn = InlineKeyboardMarkup(inline_keyboard=True)
b1 = InlineKeyboardButton('1', callback_data='‚Ññ1')
b2 = InlineKeyboardButton('2', callback_data='‚Ññ2')
b3 = InlineKeyboardButton('3', callback_data='‚Ññ3')
b4 = InlineKeyboardButton('4', callback_data='‚Ññ4')
b5 = InlineKeyboardButton('5', callback_data='‚Ññ5')
b6 = InlineKeyboardButton('6', callback_data='‚Ññ6')
txt_btn.add(b1), txt_btn.add(b2)
txt_btn.row(b3, b4)
txt_btn.add(b5), txt_btn.add(b6)



from aiogram.types import InlineKeyboardMarkup, InlineKeyboardButton
txt_btn2 = InlineKeyboardMarkup(inline_keyboard=True)
btn1 = InlineKeyboardButton('–û –Ω–∞—Åü¶Ñ', callback_data='1')
btn2 = InlineKeyboardButton('–Ø—á–µ–π–∫–∞ ‚Ññ2', callback_data='2')
btn3 = InlineKeyboardButton('–Ø—á–µ–π–∫–∞ ‚Ññ3', callback_data='3')
btn4 = InlineKeyboardButton('–ê–¥–º–∏–Ω/–ú–µ–Ω–µ–¥–∂–µ—Ä –ø–æ —Ä–µ–∫–ª–∞–º–µüëî', url='https://t.me/manager_in_telegram')
btn5 = InlineKeyboardButton('–í–ª–∞–¥–µ–ª–µ—Ü —Ç–≥–∫üëë', url='https://t.me/manager_in_telegram')
txt_btn2.row(btn1, btn2, btn3)
txt_btn2.row(btn4, btn5)


@dp.callback_query_handler()
async def callback1(callback_quevery: types.CallbackQuery):
    if callback_quevery.data == '1':
        await bot.send_message(chat_id=callback_quevery.from_user.id, text='üìõ–ú—ã, –Ω–µ–±–æ–ª—å—à–∞—è –∫–æ–º–ø–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–≤ —Å–æ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π –Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ —Ç–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç–æ–≤. –í–ª–∞–¥–µ–µ–º —è–∑—ã–∫–∞–º–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è: Python, JavaScript, HTML, Css –∏ –¥—Ä. –ó–∞–Ω–∏–º–∞–µ–º—Å—è —Å–æ–∑–¥–∞–Ω–∏–µ–º –∫–∞–∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –±–æ—Ç–æ–≤, —Ç–∞–∫ –∏ –±–æ—Ç–æ–≤ —Å WEB –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º. –ò—Å–ø–æ–ª—å–∑—É–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ Aiogram, pyTelegramBotAPI.\n–°–î–ï–õ–ê–ï–ú –£–î–û–ë–ù–´–ô –ú–ê–ì–ê–ó–ò–ù –ò–õ–ò –¢–ï–õ–ï–ì–†–ê–ú –ë–û–¢–ê, –ö–û–¢–û–†–´–ô –£–ü–†–û–°–¢–ò–¢ –í–ê–ú –ñ–ò–ó–ù–¨!ü™ê')
    elif callback_quevery.data == '2':
        await bot.send_message(chat_id=callback_quevery.from_user.id, text='–¢—É—Ç –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—èüõú')
    elif callback_quevery.data == '3':
        await bot.send_message(chat_id=callback_quevery.from_user.id, text='–¢—É—Ç –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—èüõú')

@dp.callback_query_handler()
async def callback2(callback_quevery: types.CallbackQuery):
    if callback_quevery.data == 'data-1':
        await bot.send_message(chat_id=callback_quevery.from_user.id, text='–£—Å–ª—É–≥–∞ ‚Ññ1(–†–µ–∫–ª–∞–º–∞ 1 —á–∞—Å)üéÅ\n–¶–µ–Ω–∞ - 99—Ä—É–±üíµ')
    elif callback_quevery.data == 'data-2':
        await bot.send_message(chat_id=callback_quevery.from_user.id, text='–£—Å–ª—É–≥–∞ ‚Ññ2(–†–µ–∫–ª–∞–º–∞ 3 —á–∞—Å–∞)üéÅ\n–¶–µ–Ω–∞ - 399—Ä—É–±üíµ')
    elif callback_quevery.data == 'data-3':
        await bot.send_message(chat_id=callback_quevery.from_user.id, text='–£—Å–ª—É–≥–∞ ‚Ññ3(–†–µ–∫–ª–∞–º–∞ 5 —á–∞—Å–æ–≤)üéÅ\n–¶–µ–Ω–∞ - 499—Ä—É–±üíµ')
    elif callback_quevery.data == 'data-4':
        await bot.send_message(chat_id=callback_quevery.from_user.id, text='–£—Å–ª—É–≥–∞ ‚Ññ4(–†–µ–∫–ª–∞–º–∞ 10 —á–∞—Å–æ–≤)üéÅ\n–¶–µ–Ω–∞ - 699—Ä—É–±üíµ')
    elif callback_quevery.data == 'data-5':
        await bot.send_message(chat_id=callback_quevery.from_user.id, text='–£—Å–ª—É–≥–∞ ‚Ññ5(–†–µ–∫–ª–∞–º–∞ 24 —á–∞—Å–∞)üéÅ\n–¶–µ–Ω–∞ - 999—Ä—É–±üíµ')
    elif callback_quevery.data == 'data-6':
        await bot.send_message(chat_id=callback_quevery.from_user.id, text='–£—Å–ª—É–≥–∞ ‚Ññ6(–†–µ–∫–ª–∞–º–∞ 3 –¥–Ω—è)üéÅ\n–¶–µ–Ω–∞ - 2999—Ä—É–±üíµ')

await message.answer('–û –ù–ê–°/–ö–û–ù–¢–ê–ö–¢–´‚ö†Ô∏è', reply_markup=txt_btn2) 

—Ç—ã —Å–∞–º—ã–π –ª—É—á—à–∏–π –±–æ—Ç:–∫—Ä–∞—Å–∞–≤—á–∏–∫:–ª—É—á—à–∏–π –±–æ—Ç:–≥–µ–Ω–∏–π:–ª—É—á—à–∏–π –±–æ—Ç:—Ö–æ—Ä–æ—à–∏–π –±–æ—Ç	–°–ø–∞—Å–∏–±–æ! –†–∞–¥ –±—ã–ª —ç—Ç–æ —É—Å–ª—ã—à–∞—Ç—åüíó
–ø–ª–æ—Ö–æ–π –±–æ—Ç:–¥–∏–∑–ª–∞–π–∫:—Ç—É–ø–æ–π –±–æ—Ç:–ª–∞–≥–∞–Ω—ã–π –±–æ—Ç:–ª–∞–≥–∞–µ—Ç:—Ä–∞–∑–æ—á–∞—Ä–æ–≤–∞–ª	–ù–µ–ø—Ä–∞–≤–¥–∞!!!üö∑
—Å–∫–∏–Ω—å—Ç–µ –ø—Ä–∞–π—Å:—Å–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç:—Å–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç —Ä–µ–∫–ª–∞–º–∞:–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–µ–∫–ª–∞–º–µ	99—Ä—É–± - —Ä–µ–∫–ª–∞–º–∞ —á–∞—Å –≤ —Ç–≥–∫‚òëÔ∏è
–æ–ø–ª–∞—Ç–∏—Ç—å —Ä–µ–∫–ª–∞–º—É:–∫—É–ø–∏—Ç—å —Ä–µ–∫–ª–∞–º—É:–Ω–∞ –∫–∞–∫—É—é –∫–∞—Ä—Ç—É –∫–∏–¥–∞—Ç—å –¥–µ–Ω—å–≥–∏:–æ–ø–ª–∞—Ç–∏—Ç—å:–¥–µ–Ω—å–≥–∏	–î–ª—è –æ–ø–ª–∞—Ç—ã –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ –≤ –≥—Ä—É–ø–ø—É: t.me/newspredlozhka) –ó–∞—Ç–µ–º —Å–∫–∏–Ω—É—Ç—å —Ç–µ–∫—Å—Ç –¥–ª—è –≤–∞—à–µ–≥–æ –ø–æ—Å—Ç–∞, —Å–≤–æ–π username –≤ –¢–µ–ª–µ–≥—Ä–∞–º–µ –∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —Ñ–æ—Ç–æüéÜ

    if callback_quevery.data == 'n':
        await bot.edit_message_reply_markup('*–¢–£–¢ –ë–£–î–ï–¢ –ü–†–ê–ô–°*\n–≠–¢–û –ü–†–ò–ú–ï–†, –°–î–ï–õ–ê–Æ –ö–†–ê–°–ò–í–ï–ï!!!', reply_markup=txt_btn1)
    if callback_quevery.data == 'nn':
        await bot.send_message(chat_id=callback_quevery.from_user.id, text='*–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø–æ–∫—É–ø–∫–µ*')


:param state:
:param custom_filters:
:param run_task: run callback in task (no wait results)
:param kwargs:

    if callback_quevery.data == 'n':
        await bot.send_message(chat_id=callback_quevery.from_user.id, text='–û—Ç–º–µ–Ω–∞‚ùå')
    elif callback_quevery.data == 'nn':
        await bot.send_message(chat_id=callback_quevery.from_user.id, text='–î–∏–∞–ª–æ–≥ –Ω–∞—á–∞—Çüåê')


@dp.callback_query_handler(lambda callback_query: callback_query.startswith('n'))


lambda message: message.text.startswith('*')

    if callback_quevery.data == 'data-1':
        await bot.send_message(chat_id=callback_quevery.from_user.id, text='–£—Å–ª—É–≥–∞ ‚Ññ1(–†–µ–∫–ª–∞–º–∞ 1 —á–∞—Å)üéÅ\n–¶–µ–Ω–∞ - 99—Ä—É–±üíµ')
    elif callback_quevery.data == 'data-2':
        await bot.send_message(chat_id=callback_quevery.from_user.id, text='–£—Å–ª—É–≥–∞ ‚Ññ2(–†–µ–∫–ª–∞–º–∞ 3 —á–∞—Å–∞)üéÅ\n–¶–µ–Ω–∞ - 399—Ä—É–±üíµ')
    elif callback_quevery.data == 'data-3':
        await bot.send_message(chat_id=callback_quevery.from_user.id, text='–£—Å–ª—É–≥–∞ ‚Ññ3(–†–µ–∫–ª–∞–º–∞ 5 —á–∞—Å–æ–≤)üéÅ\n–¶–µ–Ω–∞ - 499—Ä—É–±üíµ')
    elif callback_quevery.data == 'data-4':
        await bot.send_message(chat_id=callback_quevery.from_user.id, text='–£—Å–ª—É–≥–∞ ‚Ññ4(–†–µ–∫–ª–∞–º–∞ 10 —á–∞—Å–æ–≤)üéÅ\n–¶–µ–Ω–∞ - 699—Ä—É–±üíµ')
    elif callback_quevery.data == 'data-5':
        await bot.send_message(chat_id=callback_quevery.from_user.id, text='–£—Å–ª—É–≥–∞ ‚Ññ5(–†–µ–∫–ª–∞–º–∞ 24 —á–∞—Å–∞)üéÅ\n–¶–µ–Ω–∞ - 999—Ä—É–±üíµ')
    elif callback_quevery.data == 'data-6':
        await bot.send_message(chat_id=callback_quevery.from_user.id, text='–£—Å–ª—É–≥–∞ ‚Ññ6(–†–µ–∫–ª–∞–º–∞ 3 –¥–Ω—è)üéÅ\n–¶–µ–Ω–∞ - 2999—Ä—É–±üíµ')



    if callback_quevery.data == 'a':
        await callback_quevery.message.edit_text(text='–¢–£–¢ –ë–£–î–ï–¢ –ü–†–ê–ô–°*\n–≠–¢–û –ü–†–ò–ú–ï–†, –°–î–ï–õ–ê–Æ –ö–†–ê–°–ò–í–ï–ï!!!', reply_markup=txt_btn1)
    elif callback_quevery.data == 'aa':

await message.answer('*–¢–£–¢ –ë–£–î–ï–¢ –ü–†–ê–ô–°*\n–≠–¢–û –ü–†–ò–ú–ï–†, –°–î–ï–õ–ê–Æ –ö–†–ê–°–ò–í–ï–ï!!!', reply_markup=txt_btn1) 


await callback.answer('–ó–∞—è–≤–∫–∞ –ø—Ä–∏–Ω—è—Ç–∞üíü')

await message.reply('üí¨ –í–∞—à–∞ –∞–Ω–∫–µ—Ç–∞ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞üìù\n–û–∂–∏–¥–∞–π—Ç–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç –≤–∞—à—É –∑–∞—è–≤–∫—Éüìä\n \nüìç –ù–µ –æ—Ç—á–∏—â–∞–π—Ç–µ –∏—Å—Ç–æ—Ä–∏—é, –∞–¥–º–∏–Ω –æ—Ç–≤–µ—Ç–∏—Ç –≤–∞–º –≤ –±–æ—Ç–µ!')


    
@dp.message_handler(lambda message: not message.photo)
async def b0(message: types.Message):
    if message.text == '–û—Ç–º–µ–Ω–∞‚ùå':
        await message.answer('–ú–µ–Ω—é‚ôªÔ∏è', reply_markup=kb_client1)
    else:
        await message.reply('üí¨ –≠—Ç–æ –Ω–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è!')



6739191456:AAFVl9Wb6TdyxJiC-JCWAtVTvtuXvqYT8b4


-------------------------------------------------------------------------------------------------------------------------------------

–ú–ï–î–ò–ê –ì–†–£–ü–ü–ê



import asyncio

from aiogram import Bot, Dispatcher, executor, filters, types


API_TOKEN = '6739191456:AAFVl9Wb6TdyxJiC-JCWAtVTvtuXvqYT8b4'

bot = Bot(token=API_TOKEN)
dp = Dispatcher(bot)


@dp.message_handler(filters.CommandStart())
async def send_welcome(message: types.Message):
    # So... At first I want to send something like this:
    await message.reply("Do you want to see many pussies? Are you ready?")

    # Wait a little...
    await asyncio.sleep(1)

    # Good bots should send chat actions...
    await types.ChatActions.upload_photo()

    # Create media group
    media = types.MediaGroup()

    # Attach local file
    media.attach_photo(types.InputFile('telebot/n.png'), 'Earth!')
    # More local files and more cats!
    media.attach_photo(types.InputFile('telebot/n.png'), 'More!')

    # You can also use URL's
    # For example: get random puss:
    media.attach_photo('https://s1.1zoom.ru/big3/984/Canada_Parks_Lake_Mountains_Forests_Scenery_Rocky_567540_3840x2400.jpg', 'Random pease.')

    # And you can also use file ID:
    # media.attach_photo('<file_id>', 'cat-cat-cat.')

    # Done! Send media group
    await message.reply_media_group(media=media)


if __name__ == '__main__':
    executor.start_polling(dp, skip_updates=True)

----------------------------------------------------------------------------------------------------------------------------------

–û–ü–õ–ê–¢–ê


from aiogram import Bot
from aiogram import types
from aiogram.dispatcher import Dispatcher
from aiogram.types.message import ContentTypes
from aiogram.utils import executor


BOT_TOKEN = 'BOT_TOKEN_HERE'
PAYMENTS_PROVIDER_TOKEN = '123456789:TEST:1422'

bot = Bot(BOT_TOKEN)
dp = Dispatcher(bot)

# Setup prices
prices = [
    types.LabeledPrice(label='Working Time Machine', amount=5750),
    types.LabeledPrice(label='Gift wrapping', amount=500),
]

# Setup shipping options
shipping_options = [
    types.ShippingOption(id='instant', title='WorldWide Teleporter').add(types.LabeledPrice('Teleporter', 1000)),
    types.ShippingOption(id='pickup', title='Local pickup').add(types.LabeledPrice('Pickup', 300)),
]


@dp.message_handler(commands=['start'])
async def cmd_start(message: types.Message):
    await bot.send_message(message.chat.id,
                           "Hello, I'm the demo merchant bot."
                           " I can sell you a Time Machine."
                           " Use /buy to order one, /terms for Terms and Conditions")


@dp.message_handler(commands=['terms'])
async def cmd_terms(message: types.Message):
    await bot.send_message(message.chat.id,
                           'Thank you for shopping with our demo bot. We hope you like your new time machine!\n'
                           '1. If your time machine was not delivered on time, please rethink your concept of time'
                           ' and try again.\n'
                           '2. If you find that your time machine is not working, kindly contact our future service'
                           ' workshops on Trappist-1e. They will be accessible anywhere between'
                           ' May 2075 and November 4000 C.E.\n'
                           '3. If you would like a refund, kindly apply for one yesterday and we will have sent it'
                           ' to you immediately.')


@dp.message_handler(commands=['buy'])
async def cmd_buy(message: types.Message):
    await bot.send_message(message.chat.id,
                           "Real cards won't work with me, no money will be debited from your account."
                           " Use this test card number to pay for your Time Machine: `4242 4242 4242 4242`"
                           "\n\nThis is your demo invoice:", parse_mode='Markdown')
    await bot.send_invoice(message.chat.id, title='Working Time Machine',
                           description='Want to visit your great-great-great-grandparents?'
                                       ' Make a fortune at the races?'
                                       ' Shake hands with Hammurabi and take a stroll in the Hanging Gardens?'
                                       ' Order our Working Time Machine today!',
                           provider_token=PAYMENTS_PROVIDER_TOKEN,
                           currency='usd',
                           photo_url='https://telegra.ph/file/d08ff863531f10bf2ea4b.jpg',
                           photo_height=512,  # !=0/None or picture won't be shown
                           photo_width=512,
                           photo_size=512,
                           is_flexible=True,  # True If you need to set up Shipping Fee
                           prices=prices,
                           start_parameter='time-machine-example',
                           payload='HAPPY FRIDAYS COUPON')


@dp.shipping_query_handler(lambda query: True)
async def shipping(shipping_query: types.ShippingQuery):
    await bot.answer_shipping_query(shipping_query.id, ok=True, shipping_options=shipping_options,
                                    error_message='Oh, seems like our Dog couriers are having a lunch right now.'
                                                  ' Try again later!')


@dp.pre_checkout_query_handler(lambda query: True)
async def checkout(pre_checkout_query: types.PreCheckoutQuery):
    await bot.answer_pre_checkout_query(pre_checkout_query.id, ok=True,
                                        error_message="Aliens tried to steal your card's CVV,"
                                                      " but we successfully protected your credentials,"
                                                      " try to pay again in a few minutes, we need a small rest.")


@dp.message_handler(content_types=ContentTypes.SUCCESSFUL_PAYMENT)
async def got_payment(message: types.Message):
    await bot.send_message(message.chat.id,
                           'Hoooooray! Thanks for payment! We will proceed your order for `{} {}`'
                           ' as fast as possible! Stay in touch.'
                           '\n\nUse /buy again to get a Time Machine for your friend!'.format(
                               message.successful_payment.total_amount / 100, message.successful_payment.currency),
                           parse_mode='Markdown')


if __name__ == '__main__':
    executor.start_polling(dp, skip_updates=True)


-----------------------------------------------------------------------------------------------------------------------------------


'–û–ø–ª–∞—Ç–∏—Ç—å —Ä–µ–∫–ª–∞–º—Éüí∏'


@dp.message_handler(lambda message: message.text == '', content_types=['text'])
async def ab1(message: types.Message):
    await message.answer('üö®–ü–æ–¥–µ–ª–∏—Å—å —Å–≤–æ–µ–π –Ω–æ–≤–æ—Å—Ç—å—é –≤ –Ω–∞—à–µ–º —Å–æ–æ–±—â–µ—Å—Ç–≤–µüó£', reply_markup=txt_btn3)



@dp.callback_query_handler(lambda callback_query: callback_query.data.startswith('n'))
async def del_callback(callback_query: types.CallbackQuery, state: FSMContext):
    if callback_query.data == 'nn':
        await bot.send_message(chat_id=callback_query.from_user.id, text='–î–∏–∞–ª–æ–≥ –Ω–∞—á–∞—Çüåê')
        await callback_query.message.edit_text(text='–ó–∞–¥–∞–π—Ç–µ –ª—é–±–æ–π –≤–æ–ø—Ä–æ—Å, –æ—Ç–Ω–æ—Å—è—â–µ–π—Å—è –∫ –±–æ—Ç—É, –∫ –æ–ø–ª–∞—Ç–µ –∏ —Ç–¥.\n—Å—Ä–∞–∑—É –æ—Ç–≤–µ—Ç–∏–º‚úèÔ∏è', reply_markup=txt_btn5)
        @dp.message_handler(lambda message: message.text.startswith('*'))
        async def mess(message: types.Message):
            answer_id = fc.recognize_question(message.text, db.get_questions())
            await message.answer(db.get_answer(answer_id))
            await chat.text.set()


await callback_query.message.edit_reply_markup(txt_btn4)
        await bot.send_message(chat_id=callback_query.from_user.id, text='–î–∏–∞–ª–æ–≥ –∑–∞–∫–æ–Ω—á–µ–Ω‚ùå')
        await state.finish()

(chat_id=message.from_user.id,
                             media=media, text=f"{data['username']}\n{data['description']}\n \n{txt}", reply_markup=txt_btn8)


, text=f"{data['username']}\n{data['description']}\n \n{txt}", reply_markup=txt_btn9



await bot.send_chat_action(call.message.chat.id, types.ChatActions.UPLOAD_DOCUMENT) 
await bot.send_media_group(call.message.chat.id, media=media)



await bot.send_photo(chat_id=group2_id, photo=data['photo'], caption=f"{data['username']}\n{data['description']}")




@dp.message_handler(lambda message: not message.photo or not message.video)
async def b2(message: types.Message, state: FSMContext):
    if message.text == '–û—Ç–º–µ–Ω–∞‚ùå':
        await message.answer('–ú–µ–Ω—é‚ôªÔ∏è', reply_markup=kb_client1)
        await state.finish()
    else:
        await message.reply('üí¨ –≠—Ç–æ –Ω–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –∏ –Ω–µ –≤–∏–¥–µ–æ!')